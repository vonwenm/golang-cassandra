CREATE KEYSPACE track
         WITH strategy_class = 'org.apache.cassandra.locator.SimpleStrategy'
         AND strategy_options:replication_factor='2';

USE track;

CREATE TABLE counter_json (
	hourKey bigint,
	columnKey timeuuid,
	json varchar,
	PRIMARY KEY (hourKey, columnKey)
);

CREATE TABLE deposit_json (
	hourKey bigint,
	columnKey timeuuid,
	json varchar,
	PRIMARY KEY (hourKey, columnKey)
);

--
-- Part of report spike
--
CREATE TABLE counter_monthly_report(
    month bigint,
    bpid varchar,
    journalJson varchar,
    countsJson varchar,
    PRIMARY KEY (month, bpid, journalJson)
);

--
-- Part of report spike
--
CREATE TABLE counter_daily_report(
    day bigint,
    bpid varchar,
    journalJson varchar,
    countsJson varchar,
    PRIMARY KEY (day, bpid, journalJson)
);

CREATE TABLE mps_deposit_log_upload_log (
	dayKey bigint,
	hour varchar,
	json varchar,
	PRIMARY KEY (dayKey,hour)
);

--
-- remove the spike tables
--
DROP TABLE counter_monthly_report;
DROP TABLE counter_daily_report;


CREATE KEYSPACE track_perf
         WITH strategy_class = 'org.apache.cassandra.locator.SimpleStrategy'
         AND strategy_options:replication_factor='2';

USE track_perf;


